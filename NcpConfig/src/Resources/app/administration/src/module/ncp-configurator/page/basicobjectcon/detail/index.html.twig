<sw-page class="configurator-basic-detail">
    <template slot="smart-bar-header">
        <h2>Objektverbindung - Detail</h2>
    </template>

    <template slot="smart-bar-actions">
        <sw-button variant="primary" :disabled="isLoading" @click="onBack">
            Zur√ºck
        </sw-button>

        <sw-button variant="primary" :disabled="isLoading" @click="onSave">
            Speichern
        </sw-button>
    </template>


    <template slot="content">
        <sw-card-view>
            <sw-card
                v-if="item"
                :title="$tc('Objektverbindung')"
                :isLoading="isLoading">

                <sw-inherit-wrapper v-if="!isLoading"
                                    v-model="item.classCon.id"
                                    :inheritedValue="item.classCon.id"
                                    isAssociation>
                    <template #content="{ currentValue, isInherited, updateCurrentValue }">
                        <sw-entity-single-select :value="item.classCon.id"
                                                 entity="ncp_configurator_classcon"
                                                 :v-model="item.idClsCon"
                                                 :label="$tc('Klassenverbindung')"
                                                 id="idClsCon"
                                                 @change="updateCurrentValue">
                        </sw-entity-single-select>
                    </template>
                </sw-inherit-wrapper>


                <sw-inherit-wrapper v-if="!isLoading"
                                    v-model="item.idObjFrom"
                                    :inheritedValue="item.idObjFrom"
                                    isAssociation>
                    <template #content="{ currentValue, isInherited, updateCurrentValue }">
                        <sw-entity-single-select :value="item.idObjFrom"
                                                 entity="ncp_configurator_object"
                                                 :v-model="item.idObjFrom"
                                                 :label="$tc('von Objekt')"
                                                 id="idObjFrom"
                                                 :criteria="criteriaObjFrom"
                                                 @change="updateCurrentValue">
                        </sw-entity-single-select>
                    </template>
                </sw-inherit-wrapper>

                <sw-inherit-wrapper v-if="!isLoading"
                                    v-model="item.idObjTo"
                                    :inheritedValue="item.idObjTo"
                                    isAssociation>
                    <template #content="{ currentValue, isInherited, updateCurrentValue }">
                        <sw-entity-single-select :value="item.idObjTo"
                                                 entity="ncp_configurator_object"
                                                 :v-model="item.idObjTo"
                                                 :label="$tc('nach Objekt')"
                                                 id="idObjTo"
                                                 :criteria="criteriaObjTo"
                                                 @change="updateCurrentValue">
                        </sw-entity-single-select>
                    </template>
                </sw-inherit-wrapper>
            </sw-card>

            <sw-card
                v-if="item"
                :title="$tc('Zusatzfelder: ProjectGroup contains dimensions')"
                :isLoading="isLoading">

                {# TEST: {{ item.classCon.name }} #}
                {# {% if item.classCon.name == 'ProjectGroup contains dimensions' %} #}
                <sw-text-field
                    :label="$tc('pgDmValueMin')"
                    v-model="item.pgDmValueMin">
                </sw-text-field>

                <sw-text-field
                    :label="$tc('pgDmValueMax')"
                    v-model="item.pgDmValueMax">
                </sw-text-field>
                {# {% endif %} #}
            </sw-card>

        </sw-card-view>

    </template>

</sw-page>
